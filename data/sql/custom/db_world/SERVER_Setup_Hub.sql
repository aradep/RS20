-- -----------------------------------
-- Dragonshrine Instant-20 Funserver
-- Made for AzerothCore 3.3.5a
-- Discord: @Degen
-- 2025
-- -----------------------------------
-- Server setup - Main player hub
-- -----------------------------------

-- Player starting location
UPDATE `playercreateinfo` SET `map` = 189, `zone` = 796, `position_x` = 1945.74, `position_y` = -431.596, `position_z` = 16.368, `orientation` = 0 WHERE `race` in (1,2,3,4,5,6,7,8,10,11);

-- Make Scarlet Monestary an open-world sanctuary
REPLACE INTO `areatable_dbc` VALUES 
(796, 189, 0, 319,  2048, 0, 11, 42, 0, 0, 0, 'Scarlet Monestary', "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", 0, 0, 0, 0, 0, 0, 0, 0, 0);
REPLACE INTO `map_dbc` VALUES (189, 'MonasteryInstances', 0, 0, 0, 'Scarlet Monastery', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 16712190, 0, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 16712188, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 16712188, 190, 1, 0, 2892.24, -811.264, -1, 0, 0, 0);
REPLACE INTO `mapdifficulty_dbc` VALUES (22, 189, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 16712188, 0, 0, '');
DELETE FROM `instance_template` WHERE `map`=189;

-- Add Graveyard to player hub
DELETE FROM `game_graveyard` WHERE `ID` IN (1890,1891);
INSERT INTO `game_graveyard` (`ID`, `Map`, `x`, `y`, `z`, `Comment`) VALUES
(1890, 189, 1945.74, -431.596, 16.368, 'Scarlet Monastery Hub'),
(1891, 189, 1945.74, -431.596, 16.368, 'Scarlet Monastery Hub');
DELETE FROM `graveyard_zone` WHERE `ID` IN (1890,1891) AND `GhostZone`=796;
INSERT INTO `graveyard_zone` (`ID`, `GhostZone`, `Faction`, `Comment`) VALUES
(1890, 796, 0, 'Scarlet Monastery Hub'),
(1891, 796, 0, 'Scarlet Monastery Hub');

-- Make Herod's door impassable while dead
UPDATE `gameobject_template` SET `type`= 10 WHERE `entry` IN (101854);
    
-- All dungeon portals lead back to hub
UPDATE `areatrigger_teleport` SET `target_map`=189, `target_position_x`=1945.74, `target_position_y`=-431.596, `target_position_z`=16.368, `target_orientation`=0 WHERE `target_map` IN (0,1);

-- RGB Lighting
UPDATE `gameobject_template` SET `type`= 10, `size`='0.5' WHERE `entry`=189305;
DELETE FROM `gameobject` WHERE `map`=189 AND `id`=189305;
REPLACE INTO `gameobject` (`id`, `map`, `zoneId`, `areaId`, `spawnMask`, `phaseMask`, `position_x`, `position_y`, `position_z`, `orientation`, `rotation0`, `rotation1`, `rotation2`, `rotation3`, `spawntimesecs`, `animprogress`, `state`, `ScriptName`, `VerifiedBuild`, `Comment`) VALUES 
(189305, 189, 0, 0, 1, 1, 1965.61, -442.291, 6.58921, 3.13752, -0, -0, -0.999998, -0.00203426, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1966.52, -442.212, 6.83491, 3.31424, -0, -0, -0.996276, 0.0862159, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1967.46, -442.045, 7.16056, 3.32602, -0, -0, -0.995751, 0.0920829, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1968.36, -441.82, 7.47852, 3.42419, -0, -0, -0.990034, 0.140831, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1969.21, -441.507, 7.78405, 3.542, -0, -0, -0.980026, 0.198871, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1970.08, -441.09, 8.1148, 3.65981, -0, -0, -0.966618, 0.256221, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1970.89, -440.615, 8.43249, 3.70694, -0, -0, -0.960313, 0.278923, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1971.65, -440.096, 8.74609, 3.83653, -0, -0, -0.940238, 0.340518, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1972.31, -439.501, 9.0493, 3.87187, -0, -0, -0.934074, 0.35708, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1972.97, -438.838, 9.36709, 3.96612, -0, -0, -0.916216, 0.400684, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1973.6, -438.124, 9.69228, 4.04073, -0, -0, -0.900634, 0.434578, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1974.14, -437.339, 10.0164, 4.15461, -0, -0, -0.874443, 0.485128, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1974.6, -436.53, 10.3336, 4.21744, -0, -0, -0.858774, 0.512355, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1975.01, -435.694, 10.6515, 4.33132, -0, -0, -0.828224, 0.560397, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1975.32, -434.775, 10.9823, 4.37059, -0, -0, -0.817062, 0.57655, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1975.28, -428.352, 10.9317, 5.02639, -0, -0, -0.58785, 0.80897, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1974.92, -427.431, 10.5957, 5.11278, -0, -0, -0.552369, 0.8336, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1974.58, -426.648, 10.3048, 5.18739, -0, -0, -0.520893, 0.853622, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1974.06, -425.781, 9.95982, 5.29734, -0, -0, -0.473201, 0.880955, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1973.58, -425.103, 9.67649, 5.36803, -0, -0, -0.441777, 0.897125, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1972.98, -424.391, 9.35896, 5.42693, -0, -0, -0.415167, 0.909745, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1972.31, -423.708, 9.03364, 5.54081, -0, -0, -0.362721, 0.931898, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1971.55, -423.096, 8.70075, 5.6115, -0, -0, -0.329566, 0.944133, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1970.84, -422.592, 8.40298, 5.69004, -0, -0, -0.292246, 0.956343, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1970.01, -422.127, 8.07791, 5.78428, -0, -0, -0.246873, 0.969048, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1969.18, -421.759, 7.76881, 5.85889, -0, -0, -0.210558, 0.977581, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1968.28, -421.45, 7.443, 6.01204, -0, -0, -0.135156, 0.990824, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1967.38, -421.202, 7.12288, 6.04738, -0, -0, -0.117627, 0.993058, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1966.48, -421.045, 6.80997, 6.12592, -0, -0, -0.0785502, 0.99691, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1965.52, -420.98, 6.5685, 6.21624, -0, -0, -0.0334656, 0.99944, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1964.27, -415.01, 11.683, 0.0273079, -0, -0, -0.0136531, -0.999907, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1962.82, -415.161, 11.937, 0.133337, -0, -0, -0.0666188, -0.997779, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1961.42, -415.414, 12.2487, 0.164753, -0, -0, -0.0822832, -0.996609, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1960.05, -415.76, 12.5588, 0.310051, -0, -0, -0.154406, -0.988008, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1958.65, -416.294, 12.8876, 0.368956, -0, -0, -0.183434, -0.983032, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1957.37, -416.912, 13.2009, 0.408226, -0, -0, -0.202699, -0.979241, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1956.07, -417.626, 13.5269, 0.569233, -0, -0, -0.280789, -0.959769, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1954.91, -418.442, 13.8379, 0.659554, -0, -0, -0.323832, -0.946115, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1953.8, -419.421, 14.1625, 0.698824, -0, -0, -0.342345, -0.939574, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1952.78, -420.424, 14.4772, 0.812706, -0, -0, -0.395262, -0.918568, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1951.86, -421.535, 14.793, 0.922662, -0, -0, -0.44514, -0.895461, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1951.02, -422.751, 15.1178, 0.97764, -0, -0, -0.469584, -0.882888, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1950.32, -424.007, 15.4335, 1.09545, -0, -0, -0.520746, -0.853712, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1949.73, -425.279, 15.7413, 1.17399, -0, -0, -0.553861, -0.832609, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1949.24, -426.718, 16.0757, 1.24075, -0, -0, -0.58134, -0.813661, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1949.33, -436.603, 16.0393, 1.85336, -0, -0, -0.799631, -0.600492, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1949.84, -438.01, 15.7084, 1.9319, -0, -0, -0.82259, -0.568636, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1950.46, -439.31, 15.3907, 1.99866, -0, -0, -0.841109, -0.540866, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1951.17, -440.56, 15.0729, 2.1361, -0, -0, -0.876264, -0.481832, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1952, -441.736, 14.7549, 2.23428, -0, -0, -0.898851, -0.438256, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1952.95, -442.817, 14.4376, 2.28533, -0, -0, -0.909743, -0.415172, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1953.94, -443.84, 14.1244, 2.37958, -0, -0, -0.92829, -0.371856, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1955.04, -444.727, 13.8116, 2.48953, -0, -0, -0.947321, -0.320284, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1956.26, -445.6, 13.4804, 2.5288, -0, -0, -0.953427, -0.301623, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1957.47, -446.339, 13.1679, 2.65054, -0, -0, -0.97001, -0.243067, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1958.79, -446.917, 12.8509, 2.73301, -0, -0, -0.979205, -0.202875, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1960.17, -447.392, 12.5293, 2.81547, -0, -0, -0.986735, -0.162338, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1961.52, -447.761, 12.2196, 2.96077, -0, -0, -0.995916, -0.0902871, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1962.99, -448.016, 11.8891, 2.99612, -0, -0, -0.997356, -0.0726746, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1964.44, -448.157, 11.6589, 3.0668, -0, -0, -0.999301, -0.0373871, 300, 0, 1, '', NULL, 'CustomGOB'),

-- Extra 4 placed between vendors
(189305, 189, 0, 0, 1, 1, 1980.47, -446.436, 11.2723, 5.54471, -0, -0, -0.360905, 0.932603, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1984.3, -441.054, 11.2722, 5.83139, -0, -0, -0.22398, 0.974594, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1984.27, -422.213, 11.2723, 0.451418, -0, -0, -0.223797, -0.974636, 300, 0, 1, '', NULL, 'CustomGOB'),
(189305, 189, 0, 0, 1, 1, 1980.46, -416.757, 11.2722, 0.753796, -0, -0, -0.368038, -0.929811, 300, 0, 1, '', NULL, 'CustomGOB');
